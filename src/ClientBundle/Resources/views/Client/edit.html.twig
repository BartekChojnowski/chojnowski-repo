{% extends '::base.html.twig' %}

{% block content %}
    {% javascripts '@AddressBundle/Resources/js/public/address-form.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

    <a href="{{ path('client') }}" class="btn-primary btn">Powr√≥t do listy</a>

    <h1>Rejestracja nowego klienta </h1>

    {{ form_start(edit_form) }}
    {{ form_errors(edit_form) }}

    <div class="form-group">
        {{ form_row(edit_form.name) }}
        {{ form_errors(edit_form.name) }}
    </div>

    <div class="form-group">
        {{ form_row(edit_form.taxId) }}
        {{ form_errors(edit_form.taxId) }}
    </div>

    <div class="form-group">
        {{ form_row(edit_form.email) }}
        {{ form_errors(edit_form.email) }}
    </div>

    <h3>Adresy</h3>
    <ul class="addresses" data-prototype="{{ form_widget(edit_form.addresses.vars.prototype)|e }}">
        {% for address in edit_form.addresses %}
            <li>{{ form_row(address.city) }}</li>
            <li>{{ form_row(address.postcode) }}</li>
            <li>{{ form_row(address.street) }}</li>
            <li>{{ form_row(address.number) }}</li>
        {% endfor %}
    </ul>

    {{ form_end(edit_form) }}

    {#{{ form(delete_form, {'form_type': 'horizontal', 'attr': {'class': 'form-horizontal'}}) }}#}
{% endblock %}